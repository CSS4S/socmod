% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/trial.R
\name{Trial}
\alias{Trial}
\title{Trial class for running a single simulation}
\description{
Trial class for running a single simulation

Trial class for running a single simulation
}
\details{
Represents a single run of an AgentBasedModel over time, with customizable
interaction and update logic. Tracks time-series observations and outcome
measures such as adaptation success and steps to fixation.
}
\examples{
# Setup a simple model where Adaptive pays off more than Legacy
model <- AgentBasedModel$new(n_agents = 3)
model$get_agent(1)$set_behavior("Adaptive")
model$get_agent(1)$set_fitness(1.0)
model$get_agent(2)$set_behavior("Legacy")
model$get_agent(2)$set_fitness(0.0)
model$get_agent(3)$set_behavior("Legacy")
model$get_agent(3)$set_fitness(0.0)

# Run a trial using success-biased learning
trial <- Trial$new(
  model,
  partner_selection = success_bias_select_teacher,
  interaction = success_bias_interact,
  iterate = iterate_learning_model
)
trial$run(stop = fixated)

# Get outcome summary and time series
trial$get_outcomes()  # Expect adaptation_success = TRUE, fixation_steps = 1
trial$get_observations()  # Tibble with t, agent, behavior, fitness

# Visualize behavior over time
obs <- trial$get_observations()
ggplot2::ggplot(obs, ggplot2::aes(x = t, fill = behavior)) +
  ggplot2::geom_bar(position = "fill") +
  ggplot2::ylab("Proportion of agents") +
  ggplot2::theme_minimal()
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-Trial-new}{\code{Trial$new()}}
\item \href{#method-Trial-run}{\code{Trial$run()}}
\item \href{#method-Trial-get_observations}{\code{Trial$get_observations()}}
\item \href{#method-Trial-get_outcomes}{\code{Trial$get_outcomes()}}
\item \href{#method-Trial-clone}{\code{Trial$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Trial-new"></a>}}
\if{latex}{\out{\hypertarget{method-Trial-new}{}}}
\subsection{Method \code{new()}}{
Initialize a Trial with a model and functions
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Trial$new(model, partner_selection = NULL, interaction, iterate = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{model}}{An AgentBasedModel instance}

\item{\code{partner_selection}}{Optional partner selection function}

\item{\code{interaction}}{Function defining interaction logic}

\item{\code{iterate}}{Optional iteration update function}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Trial-run"></a>}}
\if{latex}{\out{\hypertarget{method-Trial-run}{}}}
\subsection{Method \code{run()}}{
Run the model and collect results
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Trial$run(stop = 50)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{stop}}{Either integer for max steps, or predicate function}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Trial-get_observations"></a>}}
\if{latex}{\out{\hypertarget{method-Trial-get_observations}{}}}
\subsection{Method \code{get_observations()}}{
Return the observation data
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Trial$get_observations()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Trial-get_outcomes"></a>}}
\if{latex}{\out{\hypertarget{method-Trial-get_outcomes}{}}}
\subsection{Method \code{get_outcomes()}}{
Return outcome measures
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Trial$get_outcomes()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Trial-clone"></a>}}
\if{latex}{\out{\hypertarget{method-Trial-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Trial$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
