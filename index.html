<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Models of Social Behavior in R • socmod</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Models of Social Behavior in R">
<meta name="description" content="Provides a conceptual framework with software tools for creating computational models of social behavior for decision making.">
<meta property="og:description" content="Provides a conceptual framework with software tools for creating computational models of social behavior for decision making.">
<meta property="og:image" content="https://css4s.github.io/socmod/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">socmod</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="socmod">socmod<a class="anchor" aria-label="anchor" href="#socmod"></a>
</h1>
</div>
<!-- badges: start -->

<!-- badges: end -->
<p><code>socmod</code> provides a framework and utilities for developing simulations of social learning and social influence structured by social networks. It is being developed to support the course <em>Computational Social Science for Sustainability</em> at the Stanford Doerr School of Sustainability. The course teaches theory and techniques for understanding cognitive and social mechanisms influencing beliefs and behaviors that can be combined in computational models to predict the relative efficacy of different candidate interventions for sustainability, e.g., to promote ecological protection, public health, economic security and justice, climate action, to name just a few <a href="https://sdgs.un.org/goals" class="external-link">sustainable development goals</a>.</p>
<p><code>socmod</code> is flexible to encapsulate any social process that can be modeled as follows: (1) individuals are initialized with some knowledge and payoff from behaviors they do or or beliefs they hold; (2) they exchange information socially over time through teaching, observation, discourse, etc. This process is illustrated in this figure:</p>
<p><img src="reference/figures/general_model_box_diagram.png"></p>
<p>Currently the focus of socmod is developing models of informational and behavioral interventions to promote sustainable behaviors that we call <em>adaptations</em>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>. Those not yet doing <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> are said to be doing a legacy behavior, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>L</mi><annotation encoding="application/x-tex">L</annotation></semantics></math>. Each agent can be assigned or gain fitness that is tracked over time, which can be linked to whether they do <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> or <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>L</mi><annotation encoding="application/x-tex">L</annotation></semantics></math>.</p>
<p><code>socmod</code> provides tools for initializing simulated individuals (i.e., <em>agents</em>), their social networks, and their behaviors. These capabilities are introduced in a simple example below.</p>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>You can install the development version of socmod from <a href="https://github.com/" class="external-link">GitHub</a> with <code>devtools</code> or <code>pak</code>:</p>
<p><strong>devtools</strong></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install this if you don't have devtools.</span></span>
<span><span class="co"># install.packages("devtools")</span></span>
<span><span class="co"># devtools::install_github("CSS4S/socmod")</span></span></code></pre></div>
<p><strong>pak</strong></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install this if you don't have pak.</span></span>
<span><span class="co"># install.packages("pak")</span></span>
<span><span class="co"># pak::pak("CSS4S/socmod")</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quickstart-examples">Quickstart examples<a class="anchor" aria-label="anchor" href="#quickstart-examples"></a>
</h2>
<p>To understand what socmod does to help organize and develop models of social behavior, let’s consider a simple example with just four individuals illustrated in the figure below. We will initialize our agents with behaviors and payoffs as shown here, then explain how to use different social learning strategies to simulate the diffusion of the adaptation, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> yields a payoff of 2 while the legacy <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>L</mi><annotation encoding="application/x-tex">L</annotation></semantics></math> behavior yields a payoff of 1. This matters only for the success-biased social learning strategy, not for the frequency-biased strategy or unbiased contagion learning.</p>
<figure id="fig-example"><img src="reference/figures/small_example_network.png" data-fig-align="center" width="300" alt="A simple network nieghborhood of individual/agent i"><figcaption aria-hidden="true">
A simple network nieghborhood of individual/agent <span class="math inline"><em>i</em></span>
</figcaption></figure><p>We can initialize these agents and their network as follows. In the next code block we first initialize four agents named “i”, “n_i1”, “n_i2”, and “n_i3” to match the illustration of focal/learner agent <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math> and its three neighbors (each one is an <em>instance</em> of the <code><a href="reference/Agent.html">socmod::Agent</a></code> class). Then we create the social network from the illustration using <code>igraph</code>. Finally, we initialize a new <code><a href="reference/AgentBasedModel.html">socmod::AgentBasedModel</a></code> using the helper function <code>make_example_abm</code>. In the next subsection we then use this helper function to initialize new models that will be run with frequency- and success-biased adaptive learning strategies, using learning functions provided with <code>socmod</code>. After that we show how to define non-adaptive contagion learning functions, adapted from compartmental epidemiological modeling.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://css4s.github.io/socmod/">socmod</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example ABM builder with four agents as pictured above. Can pass arbitrary</span></span>
<span><span class="co"># named parameters in ... that will be passed to AgentBasedModel$new as params.</span></span>
<span><span class="va">make_example_abm</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">n_agents</span> <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span>    </span>
<span>  <span class="va">agent_behaviors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Legacy"</span>, <span class="st">"Legacy"</span>, <span class="st">"Legacy"</span>, <span class="st">"Adaptive"</span><span class="op">)</span></span>
<span>  <span class="va">agent_fitness</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="va">agent_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"i"</span>, <span class="st">"n_i1"</span>, <span class="st">"n_i2"</span>, <span class="st">"n_i3"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">make_example_agents</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>    <span class="va">agents</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span></span>
<span>      <span class="fl">1</span><span class="op">:</span><span class="va">n_agents</span>, \<span class="op">(</span><span class="va">a_idx</span><span class="op">)</span> <span class="op">{</span> </span>
<span>        <span class="va"><a href="reference/Agent.html">Agent</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>behavior<span class="op">=</span><span class="va">agent_behaviors</span><span class="op">[</span><span class="va">a_idx</span><span class="op">]</span>, </span>
<span>                  fitness<span class="op">=</span><span class="va">agent_fitness</span><span class="op">[</span><span class="va">a_idx</span><span class="op">]</span>, </span>
<span>                  name<span class="op">=</span><span class="va">agent_names</span><span class="op">[</span><span class="va">a_idx</span><span class="op">]</span><span class="op">)</span> </span>
<span>      <span class="op">}</span></span>
<span>    <span class="op">)</span></span>
<span>    </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span> <span class="op">(</span><span class="va">agents</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="va">agents</span> <span class="op">&lt;-</span> <span class="fu">make_example_agents</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="co"># Initialize network.</span></span>
<span>  <span class="va">socnet</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/make_empty_graph.html" class="external-link">make_empty_graph</a></span><span class="op">(</span><span class="fl">4</span>, directed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="co"># Set the vertex names.</span></span>
<span>  <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/V.html" class="external-link">V</a></span><span class="op">(</span><span class="va">socnet</span><span class="op">)</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="va">agent_names</span></span>
<span>  </span>
<span>  <span class="co"># Edges can be added like so where every two names specify an edge.</span></span>
<span>  <span class="va">socnet</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/add_edges.html" class="external-link">add_edges</a></span><span class="op">(</span></span>
<span>    <span class="va">socnet</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"i"</span>, <span class="st">"n_i1"</span>, <span class="st">"i"</span>, <span class="st">"n_i2"</span>, <span class="st">"i"</span>, <span class="st">"n_i3"</span>, <span class="st">"n_i2"</span>, <span class="st">"n_i3"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Create the agent-based model and plot the model's network.</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span> <span class="op">(</span><span class="va"><a href="reference/AgentBasedModel.html">AgentBasedModel</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>agents <span class="op">=</span> <span class="va">agents</span>, network <span class="op">=</span> <span class="va">socnet</span>, <span class="va">...</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">abm</span> <span class="op">&lt;-</span> <span class="fu">make_example_abm</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">abm</span><span class="op">$</span><span class="va">network</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
<div class="section level3">
<h3 id="model-dynamics-with-different-adaptive-social-learning-strategies">Model dynamics with different adaptive social learning strategies<a class="anchor" aria-label="anchor" href="#model-dynamics-with-different-adaptive-social-learning-strategies"></a>
</h3>
<div class="section level4">
<h4 id="frequency-biased-adaptive-learning">Frequency-biased adaptive learning<a class="anchor" aria-label="anchor" href="#frequency-biased-adaptive-learning"></a>
</h4>
<p>In frequency-biased transmission, the probability a learner adopts a behavior is proportional to the number of network neighbors doing a behavior. In the first time step, then, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>n</mi><mrow><mi>i</mi><mn>2</mn></mrow></msub><annotation encoding="application/x-tex">n_{i2}</annotation></semantics></math> has a 1/2 probability of adopting <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>, and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math> has a 1/3 probability of adopting <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>.</p>
<p>Here is how to set up an agent-based model and run it with frequency-biased learning dynamics. There is a lot of stochasticity with this setup, with many model runs ending with <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>=</mo><mn>50</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">A(t=50) = 4</annotation></semantics></math>, fixating on the Adaptive behavior, and many ending with <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo>=</mo><mn>50</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">A(t=50) = 0</annotation></semantics></math>, fixating on the Legacy behavior.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">abm</span> <span class="op">&lt;-</span> <span class="fu">make_example_abm</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span><span class="va">abm</span>, <span class="fl">50</span>, <span class="va">frequency_bias_select_teacher</span>, <span class="va">frequency_bias_interact</span>, <span class="va">iterate_learning_model</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">output</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">t</span>, y<span class="op">=</span><span class="va">A</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="100%"></p>
<p>We can check how many end in <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> or <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>L</mi><annotation encoding="application/x-tex">L</annotation></semantics></math> being fixated like so, where fixation on <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> counts as adaptation “success”:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n_trials</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">one_trial_success</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n_steps</span> <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">abm</span> <span class="op">&lt;-</span> <span class="fu">make_example_abm</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">A_T</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span></span>
<span>    <span class="va">abm</span>, <span class="va">n_steps</span>, <span class="va">frequency_bias_select_teacher</span>, </span>
<span>    <span class="va">frequency_bias_interact</span>, <span class="va">iterate_learning_model</span></span>
<span>  <span class="op">)</span><span class="op">$</span><span class="va">output</span><span class="op">$</span><span class="va">A</span><span class="op">[</span><span class="va">n_steps</span><span class="op">]</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">A_T</span> <span class="op">==</span> <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">n_success</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_vec</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n_trials</span>, \<span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">{</span><span class="fu">one_trial_success</span><span class="op">(</span><span class="op">)</span><span class="op">}</span><span class="op">)</span><span class="op">)</span>;</span>
<span></span>
<span><span class="va">success_rate</span> <span class="op">&lt;-</span> <span class="va">n_success</span> <span class="op">/</span> <span class="va">n_trials</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Success rate:"</span>, <span class="va">success_rate</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Success rate: 0.22"</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="success-biased-adaptive-learning">Success-biased adaptive learning<a class="anchor" aria-label="anchor" href="#success-biased-adaptive-learning"></a>
</h4>
<p>In success-biased transmission, the probability a learner adopts a behavior is proportional to the relative fitness of their neighbors. Note that in the simplest model of success-biased transmission, if there is only one agent doing <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>, then this agent always adopts <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>L</mi><annotation encoding="application/x-tex">L</annotation></semantics></math> on the first time step. This is the version currently provided by <code>socmod</code>. Adding additional adaptive logic for making this evitable is left as an exercise.</p>
<p>Here is how one can run a model with success-biased learning:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">abm</span> <span class="op">&lt;-</span> <span class="fu">make_example_abm</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span><span class="va">abm</span>, <span class="fl">50</span>, <span class="va">success_bias_select_teacher</span>, <span class="va">success_bias_interact</span>, <span class="va">iterate_learning_model</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">output</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">t</span>, y<span class="op">=</span><span class="va">A</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png" width="100%"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n_trials</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">one_trial_success</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n_steps</span> <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">abm</span> <span class="op">&lt;-</span> <span class="fu">make_example_abm</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">A_T</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span></span>
<span>    <span class="va">abm</span>, <span class="va">n_steps</span>, <span class="va">success_bias_select_teacher</span>, </span>
<span>    <span class="va">success_bias_interact</span>, <span class="va">iterate_learning_model</span></span>
<span>  <span class="op">)</span><span class="op">$</span><span class="va">output</span><span class="op">$</span><span class="va">A</span><span class="op">[</span><span class="va">n_steps</span><span class="op">]</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">A_T</span> <span class="op">==</span> <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">n_success</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_vec</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n_trials</span>, \<span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">{</span><span class="fu">one_trial_success</span><span class="op">(</span><span class="op">)</span><span class="op">}</span><span class="op">)</span><span class="op">)</span>;</span>
<span></span>
<span><span class="va">success_rate</span> <span class="op">&lt;-</span> <span class="va">n_success</span> <span class="op">/</span> <span class="va">n_trials</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Success rate:"</span>, <span class="va">success_rate</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Success rate: 0.67"</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="model-dynamics-with-non-adaptive-contagion-learning">Model dynamics with non-adaptive contagion learning<a class="anchor" aria-label="anchor" href="#model-dynamics-with-non-adaptive-contagion-learning"></a>
</h3>
<p>Now we show how to define custom learning functions using non-adaptive contagion learning as an example. In contagion learning, a learner adopts its interaction partner teacher’s behavior with probability <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>α</mi><annotation encoding="application/x-tex">\alpha</annotation></semantics></math>, called the <em>adoption rate</em>. We can also provide a <em>drop rate</em> that represents the probability an individual stops doing the adaptive behavior.</p>
<p>We can define contagion learning functions as follows, assuming that partner selection is random.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">contagion_partner_selection</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">learner</span>, <span class="va">model</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">learner</span><span class="op">$</span><span class="va">neighbors</span><span class="op">$</span><span class="va">agents</span>, <span class="fl">1</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">contagion_interaction</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">learner</span>, <span class="va">teacher</span>, <span class="va">model</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">(</span><span class="va">learner</span><span class="op">$</span><span class="va">curr_behavior</span> <span class="op">==</span> <span class="st">"Legacy"</span><span class="op">)</span> <span class="op">&amp;&amp;</span> </span>
<span>      <span class="op">(</span><span class="va">teacher</span><span class="op">$</span><span class="va">curr_behavior</span> <span class="op">==</span> <span class="st">"Adaptive"</span><span class="op">)</span> <span class="op">&amp;&amp;</span> </span>
<span>      <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">&lt;</span> <span class="va">model</span><span class="op">$</span><span class="va">params</span><span class="op">$</span><span class="va">adopt_rate</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># this is how we implement prob learning w/ alpha</span></span>
<span>    <span class="va">learner</span><span class="op">$</span><span class="va">next_behavior</span> <span class="op">&lt;-</span> <span class="st">"Adaptive"</span></span>
<span>    <span class="va">learner</span><span class="op">$</span><span class="va">next_fitness</span> <span class="op">&lt;-</span> <span class="fl">2.0</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">contagion_model_step</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">model</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># If drop rate is non-zero, get a list of agents who will drop the behavior</span></span>
<span>  <span class="co"># if they are doing the Adaptive behavior.</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">model</span><span class="op">$</span><span class="va">params</span><span class="op">$</span><span class="va">drop_rate</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">agent_drop</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">model</span><span class="op">$</span><span class="va">n_agents</span><span class="op">)</span> <span class="op">&lt;</span> <span class="va">model</span><span class="op">$</span><span class="va">params</span><span class="op">$</span><span class="va">drop_rate</span></span>
<span>    </span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">agent</span> <span class="kw">in</span> <span class="va">abm</span><span class="op">$</span><span class="va">agents</span><span class="op">[</span><span class="va">agent_drop</span><span class="op">]</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="va">agent</span><span class="op">$</span><span class="va">curr_behavior</span> <span class="op">==</span> <span class="st">"Adaptive"</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">agent</span><span class="op">$</span><span class="va">next_behavior</span> <span class="op">&lt;-</span> <span class="st">"Legacy"</span></span>
<span>        <span class="va">agent</span><span class="op">$</span><span class="va">next_fitness</span> <span class="op">&lt;-</span> <span class="fl">1.0</span></span>
<span>      <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="co"># Basic learning step where the next behaviors and payoffs become current.</span></span>
<span>  <span class="fu"><a href="reference/iterate_learning_model.html">iterate_learning_model</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Initialize a new agent-based model and run contagion learning dynamics:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span> </span>
<span><span class="va">abm</span> <span class="op">&lt;-</span> <span class="fu">make_example_abm</span><span class="op">(</span>adopt_rate <span class="op">=</span> <span class="fl">0.2</span>, drop_rate <span class="op">=</span> <span class="fl">0.02</span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span><span class="va">abm</span>, <span class="fl">100</span>, <span class="va">contagion_partner_selection</span>, <span class="va">contagion_interaction</span>,</span>
<span>              <span class="va">contagion_model_step</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">output</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">t</span>, y<span class="op">=</span><span class="va">A</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-10-1.png" width="100%"></p>
</div>
</div>
<div class="section level2">
<h2 id="more-information-and-the-philosophy-of-socmod">More information and the philosophy of socmod<a class="anchor" aria-label="anchor" href="#more-information-and-the-philosophy-of-socmod"></a>
</h2>
<p>Different models of social behavior are specified by the details of how many individuals are in a population, what behaviors or opinions they do or have, what benefits they accrue(d) through their behaviors, how they learn or influence one another, and any environmental or other relevant factors. This framework seeks to encapsulate different approaches to modeling diverse social behaviors, such as those thoroughly reviewed in Paul Smaldino’s (2023) textbook <a href="https://press.princeton.edu/books/paperback/9780691224145/modeling-social-behavior?srsltid=AfmBOop2zNSsOtNlOMs6uaLTlAQs8saVMC_I6y_OnyklIKz-GUnoNapR" class="external-link"><em>Modeling Social Behavior</em></a>.</p>
<p>Technically, <code>socmod</code> uses object-oriented programming, provided by <a href="https://r6.r-lib.org/" class="external-link"><code>R6</code></a>, and functional-style agent and model behavior specification inspired by <a href="https://juliadynamics.github.io/Agents.jl/stable/" class="external-link">Agents.jl</a>, which I myself have enjoyed using. But, I still had to do my plotting in R, and more beginning students across disciplines will tend to know R than Julia. R also seems to have a great community with the <code>r-lib</code> project that seems to be bringing a continuity to scientific programming that I have not seen in any other programming language.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing socmod</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Matt Turner <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-7421-4552" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://app.codecov.io/gh/CSS4S/socmod" class="external-link"><img src="https://codecov.io/gh/CSS4S/socmod/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matt Turner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
